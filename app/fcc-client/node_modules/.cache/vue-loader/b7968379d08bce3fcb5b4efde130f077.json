{"remainingRequest":"/home/wxudong/go/src/github.com/wxd/fabric-housing/wxudong/appcode/fcc-client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/wxudong/go/src/github.com/wxd/fabric-housing/wxudong/appcode/fcc-client/src/views/EstateTax.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/wxudong/go/src/github.com/wxd/fabric-housing/wxudong/appcode/fcc-client/src/views/EstateTax.vue","mtime":1596023450143},{"path":"/home/wxudong/go/src/github.com/wxd/fabric-housing/wxudong/appcode/fcc-client/node_modules/cache-loader/dist/cjs.js","mtime":1595389596189},{"path":"/home/wxudong/go/src/github.com/wxd/fabric-housing/wxudong/appcode/fcc-client/node_modules/babel-loader/lib/index.js","mtime":1595389596067},{"path":"/home/wxudong/go/src/github.com/wxd/fabric-housing/wxudong/appcode/fcc-client/node_modules/vuetify-loader/lib/loader.js","mtime":1595389632304},{"path":"/home/wxudong/go/src/github.com/wxd/fabric-housing/wxudong/appcode/fcc-client/node_modules/cache-loader/dist/cjs.js","mtime":1595389596189},{"path":"/home/wxudong/go/src/github.com/wxd/fabric-housing/wxudong/appcode/fcc-client/node_modules/vue-loader/lib/index.js","mtime":1595389622748}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgc2hvd2RpYWxvZzogZmFsc2UsCiAgICAgICAgICAgIHNob3dTYXZlOiBmYWxzZSwKICAgICAgICAgICAgc2hvd1RvQ0M6IGZhbHNlLAogICAgICAgICAgICBkaWFsb2d0eXBlOiAxLAogICAgICAgICAgICBldGF4OiB7fSwKICAgICAgICAgICAgc2VhcmNoOiAnJywKICAgICAgICAgICAgc2I6IHsgLy9zbmFrZWJhcgogICAgICAgICAgICAgICAgc2hvdzogZmFsc2UsCiAgICAgICAgICAgICAgICBjb2xvcjogIiIsCiAgICAgICAgICAgICAgICB0ZXh0OiAiIiwKICAgICAgICAgICAgICAgIHRpbWVvdXQ6IDMwMDAsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGhlYWRlcnM6IFt7CiAgICAgICAgICAgICAgICAgICAgdGV4dDogJ+e8tOeojuaXtumXtCcsCiAgICAgICAgICAgICAgICAgICAgYWxpZ246ICdsZWZ0JywKICAgICAgICAgICAgICAgICAgICBzb3J0YWJsZTogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICdDcmVhdGVEVCcsCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHRleHQ6ICfnurPnqI7lh63or4HnvJblj7cnLAogICAgICAgICAgICAgICAgICAgIGFsaWduOiAnbGVmdCcsCiAgICAgICAgICAgICAgICAgICAgc29ydGFibGU6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgIHZhbHVlOiAnVGF4SUQnLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICB0ZXh0OiAn57qz56iO5Lq6JywKICAgICAgICAgICAgICAgICAgICBhbGlnbjogJ2NlbnRlcicsCiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICdUYXhlcicKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgdGV4dDogJ+aIv+Wxi+mdouenrycsCiAgICAgICAgICAgICAgICAgICAgYWxpZ246ICdjZW50ZXInLAogICAgICAgICAgICAgICAgICAgIHZhbHVlOiAnQXJlYScKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgdGV4dDogJ+e6s+eojumHkeminScsCiAgICAgICAgICAgICAgICAgICAgYWxpZ246ICdjZW50ZXInLAogICAgICAgICAgICAgICAgICAgIHZhbHVlOiAnVGF4JwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICB0ZXh0OiAn5pWw5o2u5LiK6ZO+JywKICAgICAgICAgICAgICAgICAgICBhbGlnbjogJ2NlbnRlcicsCiAgICAgICAgICAgICAgICAgICAgc29ydGFibGU6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgIHZhbHVlOiAnYWN0aW9uJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgXSwKICAgICAgICAgICAgaXRlbXM6IFtdLAogICAgICAgICAgICBydWxlczogewogICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHZhbHVlID0+ICEhdmFsdWUgfHwgJ+ivt+i+k+WFpScsCiAgICAgICAgICAgICAgICBjb3VudGVyOiB2YWx1ZSA9PiB2YWx1ZS5sZW5ndGggPD0gMjAgfHwgJ+acgOWkmjIw5Liq5a2X56ymJywKICAgICAgICAgICAgfSwKICAgICAgICB9OwogICAgfSwKICAgIG1vdW50ZWQoKSB7CiAgICAgICAgdGhpcy5yZWZyZXNoVGF4TGlzdCgpCiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIHJlZnJlc2hUYXhMaXN0KCkgewogICAgICAgICAgICB0aGlzLiRheGlvcwogICAgICAgICAgICAgICAgLmdldCgiL2FwaS9lc3RhdGV0YXgvcXVlcnlhbGwiLCB7CiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiB7fSwKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5Db2RlID09IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLlN0YXR1cyA9PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLml0ZW1zID0gW10KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXRlbXMgPSByZXMuZGF0YS5TdGF0dXMKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pCgogICAgICAgIH0sCiAgICAgICAgc2F2ZU5ldygpIHsKICAgICAgICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgICAgICAgICB0YXhpZDogdGhpcy5ldGF4LnRheGlkLAogICAgICAgICAgICAgICAgdGF4ZXI6IHRoaXMuZXRheC50YXhlciwKICAgICAgICAgICAgICAgIGFyZWE6IHRoaXMuZXRheC5hcmVhLAogICAgICAgICAgICAgICAgdGF4OiB0aGlzLmV0YXgudGF4LAogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuJGF4aW9zCiAgICAgICAgICAgICAgICAucG9zdCgiL2FwaS9lc3RhdGV0YXgvY3JlYXRlIiwgdGhpcy4kcXMuc3RyaW5naWZ5KGRhdGEpKQogICAgICAgICAgICAgICAgLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuQ29kZSA9PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVmcmVzaFRheExpc3QoKQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dkaWFsb2cgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmV0YXggPSB7fQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNiLmNvbG9yID0gInN1Y2Nlc3MiCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2IudGV4dCA9ICLmk43kvZzmiJDlip8hIgogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNiLnNob3cgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zYi5jb2xvciA9ICJlcnJvciIKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zYi50ZXh0ID0gIuaTjeS9nOWksei0pe+8miIgKyByZXMuZGF0YS5TdGF0dXMKICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5zYi5zaG93ID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBnZXRDb2xvckJ5Q0MoY2MpIHsKICAgICAgICAgICAgaWYgKGNjID4gMCkKICAgICAgICAgICAgICAgIHJldHVybiAiZ3JlZW4iOwogICAgICAgICAgICByZXR1cm4gIndhcm5pbmciOwogICAgICAgIH0sCiAgICAgICAgZ2V0RGlzVG9DQyhjb2RlKSB7CiAgICAgICAgICAgIGlmIChjb2RlID4gMCkKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfSwKICAgICAgICBnZXREaWFsb2dUaXRsZShkdHlwZSkgewogICAgICAgICAgICBzd2l0Y2ggKGR0eXBlKSB7CiAgICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICfmlrDlop7nurPnqI7lh63or4EnCiAgICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICfnurPnqI7lh63or4HkuIrpk74nCiAgICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICfpk77kuIrnurPnqI7lh63or4Hmn6Xor6InCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIG9uQ3JlYXRlKCkgewogICAgICAgICAgICB0aGlzLmRpYWxvZ3R5cGUgPSAxCiAgICAgICAgICAgIHRoaXMuc2hvd1NhdmUgPSB0cnVlCiAgICAgICAgICAgIHRoaXMuc2hvd1RvQ0MgPSBmYWxzZQogICAgICAgICAgICB0aGlzLmV0YXggPSB7fQogICAgICAgICAgICB0aGlzLnNob3dkaWFsb2cgPSB0cnVlCiAgICAgICAgfSwKICAgICAgICBvblRvQ0ModXVpZCwgdGF4aWQsIHRheGVyLCBhcmVhLCB0YXgpIHsKICAgICAgICAgICAgdGhpcy5kaWFsb2d0eXBlID0gMgogICAgICAgICAgICB0aGlzLnNob3dTYXZlID0gZmFsc2UKICAgICAgICAgICAgdGhpcy5zaG93VG9DQyA9IHRydWUKICAgICAgICAgICAgdGhpcy5ldGF4LnV1aWQgPSB1dWlkCiAgICAgICAgICAgIHRoaXMuZXRheC50YXhpZCA9IHRheGlkCiAgICAgICAgICAgIHRoaXMuZXRheC50YXhlciA9IHRheGVyCiAgICAgICAgICAgIHRoaXMuZXRheC5hcmVhID0gYXJlYQogICAgICAgICAgICB0aGlzLmV0YXgudGF4ID0gdGF4CiAgICAgICAgICAgIHRoaXMuc2hvd2RpYWxvZyA9IHRydWUKICAgICAgICB9LAogICAgICAgIHRvQ0MoKSB7CiAgICAgICAgICAgIGxldCBkYXRhID0gewogICAgICAgICAgICAgICAgdXVpZDogdGhpcy5ldGF4LnV1aWQsCiAgICAgICAgICAgICAgICB0YXhpZDogdGhpcy5ldGF4LnRheGlkLAogICAgICAgICAgICAgICAgdGF4ZXI6IHRoaXMuZXRheC50YXhlciwKICAgICAgICAgICAgICAgIGFyZWE6IHRoaXMuZXRheC5hcmVhLAogICAgICAgICAgICAgICAgdGF4OiB0aGlzLmV0YXgudGF4LAogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuJGF4aW9zCiAgICAgICAgICAgICAgICAucG9zdCgiL2FwaS9lc3RhdGV0YXgvdG9jYyIsIHRoaXMuJHFzLnN0cmluZ2lmeShkYXRhKSkKICAgICAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLkNvZGUgPT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dkaWFsb2cgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmV0YXggPSB7fQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNiLmNvbG9yID0gInN1Y2Nlc3MiCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2IudGV4dCA9ICLmk43kvZzmiJDlip8s57qz56iO5Yet6K+B5bey5LiK6ZO+77yBIgogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2hUYXhMaXN0KCkKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zYi5zaG93ID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2IuY29sb3IgPSAiZXJyb3IiCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2IudGV4dCA9ICLmk43kvZzlpLHotKXvvJoiICsgcmVzLmRhdGEuU3RhdHVzCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2Iuc2hvdyA9IHRydWUKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgcXVlcnlDQyh0YXhpZCkgewogICAgICAgICAgICB0aGlzLnNob3dkaWFsb2cgPSB0cnVlCiAgICAgICAgICAgIHRoaXMuJGF4aW9zCiAgICAgICAgICAgICAgICAuZ2V0KCIvYXBpL2NjL2VzdGF0ZXRheC9xdWVyeWJ5dGF4aWQ/dGF4aWQ9IiArIHRheGlkKQogICAgICAgICAgICAgICAgLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuQ29kZSA9PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd1NhdmUgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dUb0NDID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaWFsb2d0eXBlID0gMwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmV0YXggPSByZXMuZGF0YS5TdGF0dXNbMF0KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dkaWFsb2cgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNiLmNvbG9yID0gImVycm9yIgogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNiLnRleHQgPSAi5p+l6K+i6ZO+5LiK57qz56iO5Yet6K+B5aSx6LSl77yaIiArIHJlcy5kYXRhLlN0YXR1cwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNiLnNob3cgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIGdldFJlYWRvbmx5KCkgewogICAgICAgICAgICBzd2l0Y2ggKHRoaXMuZGlhbG9ndHlwZSkgewogICAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZQogICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlCiAgICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWUKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICB9Cn07Cg=="},{"version":3,"sources":["EstateTax.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EstateTax.vue","sourceRoot":"src/views","sourcesContent":["<template>\n<div id=\"netcon\">\n    <v-container grid-list-xl fluid>\n        <v-card class=\"mx-auto\" max-width=\"100%\">\n            <v-divider></v-divider>\n            <v-card>\n                <v-card-title class=\"grey lighten-4\">不动产登记业务缴税\n                    <v-spacer></v-spacer>\n                    <v-text-field v-model=\"search\" label=\"按内容查询\" single-line hide-details></v-text-field>\n                    <v-btn icon @click=\"refreshTaxList\">\n                        <v-icon>fas fa-sync-alt</v-icon>\n                    </v-btn>\n                    <v-btn icon @click=\"onCreate\">\n                        <v-icon>fas fa-plus</v-icon>\n                    </v-btn>\n                </v-card-title>\n                <v-data-table :headers=\"headers\" :items=\"items\" class=\"elevation-1\" :search=\"search\">\n                    <template v-slot:item.TaxID=\"{ item }\">\n                        <v-chip :color=\"getColorByCC(item.IsCCed)\">{{ item.TaxID }}</v-chip>\n                    </template>\n                    <template v-slot:item.action=\"{ item }\">\n                        <v-btn color=\"success\" :disabled=\"!getDisToCC(item.IsCCed)\" @click=\"onToCC(item.ID,item.TaxID,item.Taxer,item.Area,item.Tax)\">上链</v-btn>\n                        <v-btn color=\"info\" :disabled=\"getDisToCC(item.IsCCed)\" @click=\"queryCC(item.TaxID)\">查链</v-btn>\n                    </template>\n                </v-data-table>\n            </v-card>\n        </v-card>\n        <v-dialog v-model=\"showdialog\" width=\"800\">\n            <v-card fill-height>\n                <v-card-title class=\"title grey lighten-2\" primary-title>{{getDialogTitle(dialogtype)}}</v-card-title>\n                <v-card-text>\n                    <v-row>\n                        <v-col cols=\"12\">\n                            <v-text-field v-model=\"etax.id\" :hidden=\"true\" />\n                            <v-text-field v-model=\"etax.taxid\" label=\"缴税凭证号\" placeholder=\"\" :rules=\"[rules.required]\" :autofocus=true :readonly=\"getReadonly()\" />\n                        </v-col>\n                    </v-row>\n                    <v-row>\n                        <v-col cols=\"12\">\n                            <v-text-field v-model=\"etax.taxer\" label=\"纳税人\" placeholder=\"\" :rules=\"[rules.required]\" :readonly=\"getReadonly()\" />\n                        </v-col>\n                    </v-row>\n                    <v-row>\n                        <v-col cols=\"6\">\n                            <v-text-field v-model=\"etax.area\" label=\"房屋面积\" placeholder=\"\" :rules=\"[rules.required]\" :readonly=\"getReadonly()\" />\n                        </v-col>\n                        <v-col cols=\"6\">\n                            <v-text-field v-model=\"etax.tax\" label=\"缴税金额\" placeholder=\"\" :rules=\"[rules.required]\" :readonly=\"getReadonly()\" />\n                        </v-col>\n                    </v-row>\n                </v-card-text>\n                <v-card-actions justify-right>\n                    <v-btn color=\"primary\" rounded @click=\"toCC()\" :disabled=\"!showToCC\">上链</v-btn>\n                    <v-btn color=\"primary\" rounded @click=\"saveNew()\" :disabled=\"!showSave\">保存</v-btn>\n                    <v-btn color=\"warning\" rounded @click=\"etax='';showdialog = false\">关闭</v-btn>\n                </v-card-actions>\n            </v-card>\n        </v-dialog>\n        <v-snackbar v-model=\"sb.show\" :color=\"sb.color\" :timeout=\"sb.timeout\" :top=\"true\">{{sb.text}}</v-snackbar>\n    </v-container>\n</div>\n</template>\n\n<script>\nexport default {\n    data() {\n        return {\n            showdialog: false,\n            showSave: false,\n            showToCC: false,\n            dialogtype: 1,\n            etax: {},\n            search: '',\n            sb: { //snakebar\n                show: false,\n                color: \"\",\n                text: \"\",\n                timeout: 3000,\n            },\n            headers: [{\n                    text: '缴税时间',\n                    align: 'left',\n                    sortable: false,\n                    value: 'CreateDT',\n                },\n                {\n                    text: '纳税凭证编号',\n                    align: 'left',\n                    sortable: false,\n                    value: 'TaxID',\n                },\n                {\n                    text: '纳税人',\n                    align: 'center',\n                    value: 'Taxer'\n                },\n                {\n                    text: '房屋面积',\n                    align: 'center',\n                    value: 'Area'\n                },\n                {\n                    text: '纳税金额',\n                    align: 'center',\n                    value: 'Tax'\n                },\n                {\n                    text: '数据上链',\n                    align: 'center',\n                    sortable: false,\n                    value: 'action'\n                },\n            ],\n            items: [],\n            rules: {\n                required: value => !!value || '请输入',\n                counter: value => value.length <= 20 || '最多20个字符',\n            },\n        };\n    },\n    mounted() {\n        this.refreshTaxList()\n    },\n    methods: {\n        refreshTaxList() {\n            this.$axios\n                .get(\"/api/estatetax/queryall\", {\n                    params: {},\n                })\n                .then(res => {\n                    if (res.data.Code == 0) {\n                        if (res.data.Status == null) {\n                            this.items = []\n                        } else {\n                            this.items = res.data.Status\n                        }\n                    }\n                })\n\n        },\n        saveNew() {\n            let data = {\n                taxid: this.etax.taxid,\n                taxer: this.etax.taxer,\n                area: this.etax.area,\n                tax: this.etax.tax,\n            }\n            this.$axios\n                .post(\"/api/estatetax/create\", this.$qs.stringify(data))\n                .then(res => {\n                    if (res.data.Code == 0) {\n                        this.refreshTaxList()\n                        this.showdialog = false\n                        this.etax = {}\n                        this.sb.color = \"success\"\n                        this.sb.text = \"操作成功!\"\n                        this.sb.show = true\n                    } else {\n                        this.sb.color = \"error\"\n                        this.sb.text = \"操作失败：\" + res.data.Status\n                        // this.sb.show = true\n                    }\n                })\n        },\n        getColorByCC(cc) {\n            if (cc > 0)\n                return \"green\";\n            return \"warning\";\n        },\n        getDisToCC(code) {\n            if (code > 0)\n                return false;\n            return true;\n        },\n        getDialogTitle(dtype) {\n            switch (dtype) {\n                case 1:\n                    return '新增纳税凭证'\n                case 2:\n                    return '纳税凭证上链'\n                case 3:\n                    return '链上纳税凭证查询'\n            }\n        },\n        onCreate() {\n            this.dialogtype = 1\n            this.showSave = true\n            this.showToCC = false\n            this.etax = {}\n            this.showdialog = true\n        },\n        onToCC(uuid, taxid, taxer, area, tax) {\n            this.dialogtype = 2\n            this.showSave = false\n            this.showToCC = true\n            this.etax.uuid = uuid\n            this.etax.taxid = taxid\n            this.etax.taxer = taxer\n            this.etax.area = area\n            this.etax.tax = tax\n            this.showdialog = true\n        },\n        toCC() {\n            let data = {\n                uuid: this.etax.uuid,\n                taxid: this.etax.taxid,\n                taxer: this.etax.taxer,\n                area: this.etax.area,\n                tax: this.etax.tax,\n            }\n            this.$axios\n                .post(\"/api/estatetax/tocc\", this.$qs.stringify(data))\n                .then(res => {\n                    if (res.data.Code == 0) {\n                        this.showdialog = false\n                        this.etax = {}\n                        this.sb.color = \"success\"\n                        this.sb.text = \"操作成功,纳税凭证已上链！\"\n                        this.refreshTaxList()\n                        this.sb.show = true\n                    } else {\n                        this.sb.color = \"error\"\n                        this.sb.text = \"操作失败：\" + res.data.Status\n                        this.sb.show = true\n                    }\n                })\n        },\n        queryCC(taxid) {\n            this.showdialog = true\n            this.$axios\n                .get(\"/api/cc/estatetax/querybytaxid?taxid=\" + taxid)\n                .then(res => {\n                    if (res.data.Code == 0) {\n                        this.showSave = false\n                        this.showToCC = false\n                        this.dialogtype = 3\n                        this.etax = res.data.Status[0]\n                    } else {\n                        this.showdialog = false\n                        this.sb.color = \"error\"\n                        this.sb.text = \"查询链上纳税凭证失败：\" + res.data.Status\n                        this.sb.show = true\n                    }\n                })\n        },\n        getReadonly() {\n            switch (this.dialogtype) {\n                case 1:\n                    return false\n                case 2:\n                    return true\n                case 3:\n                    return true\n            }\n        },\n    }\n};\n</script>\n"]}]}